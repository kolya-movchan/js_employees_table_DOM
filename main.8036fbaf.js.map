{"version":3,"sources":["scripts/main.js"],"names":["tbody","document","querySelector","rows","getElementsByTagName","titles","allCells","querySelectorAll","headings","children","modeOrder","value1","value2","textContent","localeCompare","replaceExtra","row","replaceAll","slice","ascSorter","index","sort","row1","row2","descSorter","ascSorterForSalary","descSorterForSalary","map","heading","isSortedAsc","targetHandler","addHTML","selectTheRow","addEventListener","e","targetHeading","target","sorted","innerHTML","value","join","targetRow","currentTarget","activeCell","classList","toggle","remove","form","createElement","add","body","append","createInForm","element","text","newElement","label","nameOfThePerson","firstElementChild","position","select","age","salary","button","lastElementChild","addDataQa","setAttribute","type","createOption","option","createCell","addToNewCell","newCell","formInput","newLine","preventDefault","toLocaleString","length","pushNotification","posTop","posRight","title","description","box","boxH2","boxP","style","cssText","setTimeout","cell","tableInput","cellCopy","addRightCellText","targetCell","width","getComputedStyle","cloneNode","autofocus","pointerEvents","key"],"mappings":"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","file":"main.8036fbaf.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst tbody = document.querySelector('tbody');\nconst rows = tbody.getElementsByTagName('tr');\nconst titles = document.querySelector('tr');\nconst allCells = document.querySelectorAll('td');\nconst headings = titles.children;\n\nconst modeOrder = (value1, value2) =>\n  value1.textContent.localeCompare(value2.textContent);\n\nconst replaceExtra = (row) =>\n  row.textContent.replaceAll(',', '').slice(1);\n\nconst ascSorter = (index) => [...rows].sort((row1, row2) =>\n  modeOrder(row1.children[index], row2.children[index]));\n\nconst descSorter = (index) => [...rows].sort((row1, row2) =>\n  modeOrder(row2.children[index], row1.children[index]));\n\nconst ascSorterForSalary = (index) => [...rows].sort((row1, row2) =>\n  replaceExtra(row1.children[index]) - replaceExtra(row2.children[index]));\n\nconst descSorterForSalary = (index) => [...rows].sort((row1, row2) =>\n  replaceExtra(row2.children[index]) - replaceExtra(row1.children[index]));\n\n[...headings].map(heading => {\n  let isSortedAsc = false;\n\n  const targetHandler = (index) => {\n    if (isSortedAsc) {\n      addHTML(descSorter(index));\n      selectTheRow(descSorter(index));\n\n      isSortedAsc = false;\n\n      return;\n    };\n\n    addHTML(ascSorter(index));\n    selectTheRow(ascSorter(index));\n\n    isSortedAsc = true;\n  };\n\n  heading.addEventListener('click', (e) => {\n    const targetHeading = e.target.textContent;\n\n    if (targetHeading === 'Name') {\n      targetHandler(0);\n    };\n\n    if (targetHeading === 'Position') {\n      targetHandler(1);\n    };\n\n    if (targetHeading === 'Office') {\n      targetHandler(2);\n    };\n\n    if (targetHeading === 'Age') {\n      targetHandler(3);\n    };\n\n    if (targetHeading === 'Salary') {\n      targetHandler(4);\n    };\n  });\n});\n\nconst addHTML = (sorted) => {\n  tbody.innerHTML = `\n  ${[...sorted].map(value => `\n  <tr>${value.innerHTML}</tr>\n  `).join('')}`;\n};\n\nconst selectTheRow = () => {\n  [...rows].map(row =>\n    row.addEventListener('click', (e) => {\n      const targetRow = e.currentTarget;\n      const activeCell = tbody.querySelector('.active');\n\n      targetRow.classList.toggle('active');\n\n      if (activeCell) {\n        activeCell.classList.remove('active');\n      }\n    }));\n};\n\nselectTheRow([...rows]);\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\ndocument.body.append(form);\n\nconst createInForm = (element, text) => {\n  const newElement = document.createElement(`${element}`);\n  const label = document.createElement('label');\n\n  if (element === 'button') {\n    newElement.textContent = text;\n    form.append(newElement);\n\n    return;\n  };\n\n  label.textContent = text;\n\n  form.append(label);\n  label.append(newElement);\n};\n\ncreateInForm('input', 'Name:');\ncreateInForm('input', 'Position:');\ncreateInForm('select', 'Office:');\ncreateInForm('input', 'Age:');\ncreateInForm('input', 'Salary:');\ncreateInForm('button', 'Save to table');\n\nconst nameOfThePerson = form.children[0].firstElementChild;\nconst position = form.children[1].firstElementChild;\nconst select = form.children[2].firstElementChild;\nconst age = form.children[3].firstElementChild;\nconst salary = form.children[4].firstElementChild;\nconst button = form.lastElementChild;\n\nconst addDataQa = (element, value) =>\n  element.setAttribute('data-qa', `${value}`);\n\naddDataQa(nameOfThePerson, 'name');\naddDataQa(position, 'position');\naddDataQa(select, 'office');\naddDataQa(age, 'age');\naddDataQa(salary, 'salary');\n\nage.type = 'number';\nsalary.type = 'number';\n\nconst createOption = (text) => {\n  const option = document.createElement('option');\n\n  option.append(text);\n  select.append(option);\n};\n\ncreateOption('Tokyo');\ncreateOption('Singapore');\ncreateOption('London');\ncreateOption('New York');\ncreateOption('Edinburgh');\ncreateOption('San Francisco');\n\nconst createCell = () => document.createElement('td');\n\nconst addToNewCell = (newCell, formInput) => {\n  newCell.textContent = formInput;\n};\n\nbutton.addEventListener('click', (e) => {\n  const newLine = document.createElement('tr');\n\n  e.preventDefault();\n\n  newLine.append(createCell());\n  newLine.append(createCell());\n  newLine.append(createCell());\n  newLine.append(createCell());\n  newLine.append(createCell());\n\n  addToNewCell(newLine.children[0], nameOfThePerson.value);\n  addToNewCell(newLine.children[1], position.value);\n  addToNewCell(newLine.children[2], select.value);\n  addToNewCell(newLine.children[3], age.value);\n\n  newLine.children[4].textContent = '$'\n  + (+salary.value).toLocaleString();\n\n  if (nameOfThePerson.value.length < 4) {\n    pushNotification(630, 10, 'Ooops, we\\'ve got a trouble',\n      'Please, fill in at least 4 letters to add a new employee', 'error');\n\n    return;\n  }\n\n  if (!position.value) {\n    pushNotification(630, 10, 'Ooops, we\\'ve got a trouble',\n      'Please, add an employee\\'s position ', 'error');\n\n    return;\n  }\n\n  if (age.value < 18 || age.value > 90) {\n    pushNotification(630, 10, 'Ooops, we\\'ve got a trouble',\n      'Please, note that employee\\'s age has got to be between '\n      + '18 and 90 range. Give it another try!', 'error');\n\n    return;\n  }\n\n  if (!salary.value) {\n    pushNotification(630, 10, 'Ooops, we\\'ve got a trouble',\n      'Please, add an employee\\'s salary', 'error');\n\n    return;\n  }\n\n  tbody.append(newLine);\n\n  pushNotification(630, 10, 'Success!',\n    'New employee has been added to the table', 'success');\n\n  [...form].map(formInput => {\n    formInput.value = '';\n  });\n\n  ascSorter(0);\n  ascSorter(1);\n  ascSorter(2);\n  ascSorter(3);\n  ascSorterForSalary(4);\n  descSorter(0);\n  descSorter(1);\n  descSorter(2);\n  descSorter(3);\n  descSorterForSalary(4);\n});\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const box = document.createElement('div');\n  const boxH2 = document.createElement('h2');\n  const boxP = document.createElement('p');\n\n  boxH2.append(title);\n  boxP.append(description);\n  box.append(boxH2, boxP);\n  document.body.append(box);\n\n  box.style.cssText = `top: ${posTop}px; right: ${posRight}px`;\n\n  box.classList.add('notification');\n  box.classList.add(type);\n  boxH2.classList.add('title');\n  addDataQa(box, 'notification');\n\n  setTimeout(() => box.remove(), 2000);\n};\n\n[...allCells].map(cell => {\n  const tableInput = document.createElement('input');\n\n  let cellCopy;\n\n  const enableCursor = () => {\n    [...allCells].map(element => {\n      element.style.pointerEvents = '';\n    });\n  };\n\n  const addRightCellText = () => {\n    switch (tableInput.value.length > 0) {\n      case true:\n        cell.textContent = tableInput.value;\n        break;\n\n      case false:\n        cell.textContent = cellCopy.textContent;\n        break;\n    }\n  };\n\n  cell.addEventListener('dblclick', (e) => {\n    const targetCell = e.target;\n\n    tableInput.style.width = getComputedStyle(cell).width;\n    tableInput.classList.add('cell-input');\n\n    cellCopy = targetCell.cloneNode(true);\n\n    targetCell.textContent = '';\n    tableInput.value = '';\n    tableInput.autofocus = true;\n\n    targetCell.append(tableInput);\n\n    [...allCells].map(element => {\n      element.style.pointerEvents = 'none';\n      cell.style.pointerEvents = '';\n    });\n  });\n\n  cell.addEventListener('keydown', (e) => {\n    if (e.key === 'Enter') {\n      addRightCellText();\n    }\n  });\n\n  tableInput.addEventListener('blur', () => {\n    addRightCellText();\n    enableCursor();\n  });\n});\n"]}